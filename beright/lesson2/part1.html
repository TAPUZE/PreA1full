<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BeRight! - 砖注专 2, 拽 1</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Assistant:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="../style.css">
</head>
<body class="bg-sky-100 min-h-screen flex flex-col items-center p-4">
    <div class="round-container">
        <header>
            <h1 class="title-bounce">
                BeRight! <span class="text-2xl md:text-3xl text-amber-500"></span>
            </h1>
            <p class="text-lg text-slate-600 mt-2">砖注专 2: 爪 转注转 住住 拽专 注  专转</p>
        </header>

        <div id="part-selector-links" class="flex justify-center gap-2 mb-6">
            <a href="part1.html" class="btn-part-selector-link">拽 1</a>
            <a href="part2.html" class="btn-part-selector-link">拽 2</a>
            <a href="part3.html" class="btn-part-selector-link">拽 3</a>
            <a href="part4.html" class="btn-part-selector-link">拽 4</a>
        </div>

        <div id="round-info" class="mb-6 text-center">
            <h2 class="text-2xl font-semibold text-blue-600" id="part-title">注 转专转 拽...</h2>
            <div class="progress-bar-container mt-2">
                <div id="progress-bar" class="progress-bar">0%</div>
            </div>
        </div>

        <div id="tabs" class="flex justify-center gap-2 mb-6">
            <button id="tab-study" class="tab-button tab-inactive"> </button>
            <button id="tab-test" class="tab-button tab-inactive"> </button>
            <button id="tab-practice" class="tab-button tab-inactive"> 转专</button>
            <a href="../progress.html?lesson=2" id="tab-progress" class="tab-button tab-inactive"> 转拽转 砖注专</a>
        </div>

        <main id="content-area" class="card">
            <p>注 转...</p>
        </main>

        <div id="navigation-buttons" class="mt-6 flex justify-between items-center hidden">
            <button id="prev-btn" class="btn btn-secondary hidden">拽</button>
            <button id="next-btn" class="btn btn-primary"></button>
        </div>

        <div class="text-center mt-6">
            <a href="lesson2-menu.html" class="btn btn-secondary">专 转驻专 砖注专 2</a>
        </div>

        <div id="user-display" class="text-center text-lg font-semibold text-blue-600 my-4">注 砖 砖转砖...</div>
    </div>

    <script>
        // --- Data for Lesson 2, Part 1 ---
        const lesson2Part1StudySteps = [ // Renamed for clarity
            {
                title: "拽 1: 专转 5 爪 转注转 住住",
                content: `<p class="mb-2 text-lg">砖! 砖注专 1  转  转转 驻转. , 砖注专 2, 转拽 砖 转转 转注 注拽专转 (Vowels): <span class="ltr text-xl font-bold text-red-500">A, E, I, O, U</span>.</p>
                          <p class="mb-2 text-slate-700"> 转 转注 砖 住驻专 爪 驻砖专,  拽  转拽 砖 爪 住住 专专, 拽 转 转注转 专转  砖驻 注专转. 专转 爪  转注专  转 转 转  砖转 转.</p>
                          <p class="text-slate-700 font-semibold"> 砖转 爪 住住 砖 拽 :</p>
                          <table class="w-full my-3 border-collapse border border-slate-300 text-slate-700 text-sm md:text-base">
                            <thead>
                              <tr class="bg-sky-100">
                                <th class="border border-slate-300 p-2 rtl">转 转注 (转)</th>
                                <th class="border border-slate-300 p-2 rtl">爪 砖</th>
                                <th class="border border-slate-300 p-2 rtl">拽 注专转</th>
                                <th class="border border-slate-300 p-2 rtl">  注专转</th>
                              </tr>
                            </thead>
                            <tbody>
                              <tr><td class="border border-slate-300 p-2 text-center ltr font-bold text-blue-600">A a</td><td class="border border-slate-300 p-2 text-center font-semibold">ah (址)</td><td class="border border-slate-300 p-2 text-center">驻转</td><td class="border border-slate-300 p-2 text-center"><strong>址</strong>专职指</td></tr>
                              <tr><td class="border border-slate-300 p-2 text-center ltr font-bold text-blue-600">E e</td><td class="border border-slate-300 p-2 text-center font-semibold">eh (侄)</td><td class="border border-slate-300 p-2 text-center">住</td><td class="border border-slate-300 p-2 text-center"><strong>侄</strong>侄</td></tr>
                              <tr><td class="border border-slate-300 p-2 text-center ltr font-bold text-blue-600">I i</td><td class="border border-slate-300 p-2 text-center font-semibold">ee (执)</td><td class="border border-slate-300 p-2 text-center">专拽</td><td class="border border-slate-300 p-2 text-center"><strong>执</strong>砖</td></tr>
                              <tr><td class="border border-slate-300 p-2 text-center ltr font-bold text-blue-600">O o</td><td class="border border-slate-300 p-2 text-center font-semibold">oh (止)</td><td class="border border-slate-300 p-2 text-center"></td><td class="border border-slate-300 p-2 text-center"><strong>止</strong>专</td></tr>
                              <tr><td class="border border-slate-300 p-2 text-center ltr font-bold text-blue-600">U u</td><td class="border border-slate-300 p-2 text-center font-semibold">oo (旨)</td><td class="border border-slate-300 p-2 text-center">砖专拽</td><td class="border border-slate-300 p-2 text-center"><strong>旨</strong>指</td></tr>
                            </tbody>
                          </table>
                          <p class="text-slate-700">砖  专 转  爪 爪注转 砖转  专转, 转专 转  转 爪 砖.</p>`
            },
            // Add more study steps for Lesson 2 Part 1 here...
            {
                title: "住  拽 1 (砖注专 2)",
                content: `<p class="mt-4 text-lg text-green-600 font-semibold">专! 住转  注 5 爪 转注转 住住.</p>
                          <p class="text-slate-700">注转, 注专  拽爪专 拽 转  砖.</p>`
            }
        ];

        const lesson2Part1Data = { // Renamed for clarity
            title: '砖注专 2, 拽 1: 专转 5 爪 转注转 住住',
            sections: {
                study: {
                    title: ' : 5 爪 转注转 住住  砖转 ',
                    steps: lesson2Part1StudySteps
                },
                test: {
                    title: ' :  5 爪 转注转 住住',
                    questions: [
                        { 
                            id: "l2p1_tq1", 
                            q: " 爪 注专  爪 砖 转 <strong class='ltr'>A</strong> 驻 砖 (,  <strong class='ltr'>Adam</strong>)?", 
                            options: ["专拽 (执)", "驻转 (址)", " (止)"], 
                            correct: "驻转 (址)", 
                            type: "mcq" 
                        },
                        { 
                            id: "l2p1_tq2", 
                            q: "爪 砖 转 <strong class='ltr'>E</strong> 驻 砖 (,  <strong class='ltr'>Ben</strong>)  爪 注专:", 
                            options: ["砖专拽 (旨)", "住 (侄)", "驻转 (址)"], 
                            correct: "住 (侄)", 
                            type: "mcq" 
                        },
                        { 
                            id: "l2p1_tq3", 
                            q: " <strong class='ltr'>D<u>i</u>na</strong>,  爪  注砖 转 <strong class='ltr'>i</strong> (驻 砖)?", 
                            options: ["ah (址)", "ee (执)", "eh (侄)"], 
                            correct: "ee (执)", 
                            type: "mcq" 
                        },
                        {
                            id: "l2p1_tq4",
                            q: "砖 转 转 转注 住专 砖 <span class='ltr'>R_n</span> (专)  砖砖注 爪 <strong class='text-indigo-700'>止 (oh)</strong>:",
                            correct: "o", 
                            type: "fill_single", 
                            placeholder: "拽 转 拽"
                        },
                        {
                            id: "l2p1_tq5",
                            q: "   转 爪 <strong class='text-purple-700'>旨 (oo)</strong> 砖 U (  <span class='ltr'>Ruth</span>)?",
                            options: ["<span class='ltr'>cup</span>", "<span class='ltr'>bus</span>", "<span class='ltr'>flute</span>"],
                            correct: "<span class='ltr'>flute</span>",
                            type: "mcq"
                        }
                    ],
                    instructions: "注 注 砖转 转 砖 5 爪 转注转 住住."
                },
                practice: {
                    title: ' 转专: 5 爪 转注转 住住',
                    activities: [
                        { 
                            id: "l2p1_pa1", 
                            type: "fill_in_blank", 
                            q: "砖 <span class='ltr'>Sara</span>, 转 专砖 <strong class='ltr'>A</strong> 砖注转  转注 注专转 __.", 
                            correct: "驻转", 
                            placeholder: "驻转/住/专拽 '" 
                        },
                        { 
                            id: "l2p1_pa2", 
                            q: "专 转  砖 转 <strong class='ltr'>E</strong> 砖注转  住 (侄):", 
                            options: ["<span class='ltr'>see</span>", "<span class='ltr'>Netta</span>", "<span class='ltr'>name</span>"], 
                            correct: "<span class='ltr'>Netta</span>", 
                            type: "mcq" 
                        },
                        {
                            id: "l2p1_pa3",
                            type: "fill_in_blank",
                            q: "砖 转 转 转注 住专 砖 <span class='ltr'>T_m</span> (转)  砖砖注 爪  (止):",
                            correct: "o",
                            placeholder: "a/e/i/o/u"
                        }
                    ],
                    instructions: "转专 转  5 爪 转注转 住住  砖转."
                }
            }
        };

        // This object is used by script.js to store ALL part titles for the global progress page.
        // Each lesson part's logic file should define its own title here, plus any others it knows about.
        // A more robust system might load this from a central JSON manifest or build it incrementally.
        const allLessonPartsMasterData_L2P1 = { // Renamed for clarity within this file's scope
            "L2P1": { title: lesson2Part1Data.title }, // Title for current Lesson 2, Part 1
            "L2P2": { title: "砖注专 2, 拽 2: 爪 转注转 住驻" },
            "L2P3": { title: "砖注专 2, 拽 3: 拽专转  拽爪专转" },
            "L2P4": { title: "砖注专 2, 拽 4: 住 转专 拽专" },

            // It's good practice to include titles from other lessons if this is meant to be a comprehensive list
            // passed to storeAllPartTitles. However, this can also be built up by each lesson part.
            "L4P1": { title: '拽 1: 住转 - "To Be"  (, 转, //)' },
            "L4P2": { title: '拽 2: 专 砖 (We, They, Not)' },
            "L4P3": { title: '拽 3: 砖转 (Are you? Where is he?)' },
            "L4P4": { title: '拽 4: "To Be" 注专 (Was, Were)' }
        };

        document.addEventListener('DOMContentLoaded', function() {
            // --- Corrected Initialization for Lesson 2, Part 1 ---
            const uniquePartIdentifier = "L2P1"; // Unique ID for this specific part

            if (typeof initializeCurrentPage === 'function') {
                console.log(`Initializing Lesson 2, Part 1 with ID: ${uniquePartIdentifier}`);
                // Arguments: pageType, partId (unique), partData (for this part), allMasterTitles
                initializeCurrentPage('part', uniquePartIdentifier, lesson2Part1Data, allLessonPartsMasterData_L2P1);
            } else {
                console.error('Main script (initializeCurrentPage function) not found. Ensure script.js is loaded before this inline script.');
                const contentArea = document.getElementById('content-area');
                if(contentArea) contentArea.innerHTML = "<p>砖 拽专转 注转 砖注专. 拽 转 -console 砖转.</p>";
            }
        });
    </script>
    <script src="../script.js"></script>
    <script src="lesson2.js"></script>
    <script>
      document.addEventListener('DOMContentLoaded', function() {
          loadLesson2Part(1); //  "L2P1"
      });
    </script>
    </body>
</html>
