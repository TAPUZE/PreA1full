<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BeRight! - חלק 4</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Assistant:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="../style.css">
</head>
<body class="bg-sky-100 min-h-screen flex flex-col items-center p-4">

    <div class="round-container">
        <header>
            <h1 class="title-bounce">
                BeRight! <span class="text-2xl md:text-3xl text-amber-500">🚀</span>
            </h1>
            <p class="text-lg text-slate-600 mt-2">המסע שלכם לכיבוש הפועל "To Be" באנגלית!</p>
        </header>

        <div id="part-selector-links" class="flex justify-center gap-2 mb-6">
            <a href="part1.html" class="btn-part-selector-link">חלק 1</a>
            <a href="part2.html" class="btn-part-selector-link">חלק 2</a>
            <a href="part3.html" class="btn-part-selector-link">חלק 3</a>
            <a href="part4.html" class="btn-part-selector-link">חלק 4</a>
        </div>

        <div id="round-info" class="mb-6 text-center">
            <h2 class="text-2xl font-semibold text-blue-600" id="part-title">טוען כותרת חלק...</h2>
            <div class="progress-bar-container mt-2">
                <div id="progress-bar" class="progress-bar">0%</div>
            </div>
        </div>

        <div id="tabs" class="flex justify-center gap-2 mb-6">
            <button id="tab-study" class="tab-button tab-inactive">📖 לימוד</button>
            <button id="tab-test" class="tab-button tab-inactive">📝 מבחן</button>
            <button id="tab-practice" class="tab-button tab-inactive">💪 תרגול</button>
            <a href="../progress.html?lesson=4" id="tab-progress" class="tab-button tab-inactive">📊 ההתקדמות</a>
        </div>

        <main id="content-area" class="card">
            <p>טוען תוכן...</p>
        </main>

        <div id="navigation-buttons" class="mt-6 flex justify-between items-center hidden">
            <button id="prev-btn" class="btn btn-secondary hidden">הקודם</button>
            <button id="next-btn" class="btn btn-primary">הבא</button>
        </div>

        <div class="text-center mt-6">
            <a href="lesson4-menu.html" class="btn btn-secondary">חזרה לתפריט השיעור</a>
        </div>
    </div>

    <script>
        // --- Data for Part 4 ---
        const part4StudySteps = [
            {
                title: "חלק 4: 'To Be' בעבר - Was, Were",
                content: `<p class="mb-4 text-lg">חלק אחרון! נלמד על 'to be' בעבר. זה דומה להווה, רק עם המילים <strong class="ltr">'was'</strong> ו-<strong class="ltr">'were'</strong>.</p>`
            },
            {
                title: `צורות עבר: <span class="ltr">I / He / She / It ➔ was</span>`,
                content: `<div class="p-4 bg-lime-50 rounded-lg mb-2">
                            <h5 class="font-semibold text-lime-700 mb-1"><strong class="ltr">I / He / She / It</strong> <span class="text-xl text-amber-500 font-mono">➔</span> <strong class="ltr">was</strong></h5>
                            <p class="text-slate-700">דוגמאות:</p>
                            <ul class="list-decimal list-inside rtl ml-4 mt-1 space-y-1 text-slate-700">
                                <li><span class="ltr">I <strong>was</strong> tired yesterday.</span> (הייתי עייף אתמול)</li>
                                <li><span class="ltr">She <strong>was</strong> a student last year.</span> (היא הייתה תלמידה שנה שעברה)</li>
                                <li><span class="ltr">It <strong>was</strong> cold.</span> (היה קר)</li>
                            </ul>
                          </div>
                          <div class="study-interactive-check">
                            <p class="text-sm font-medium text-slate-700">השלם: <span class="ltr">He ___ sick last week.</span></p>
                            <input type="text" id="r4s2_check" class="ltr border border-gray-300 p-1 rounded-md my-1 w-20 text-center" placeholder="was">
                            <button class="btn btn-secondary btn-sm text-xs" onclick="checkStudyStepAnswer('r4s2_check', 'was', 'r4s2_feedback')">בדוק</button>
                            <div id="r4s2_feedback" class="text-sm mt-1"></div>
                          </div>`
            },
            {
                title: `צורות עבר: <span class="ltr">You / We / They ➔ were</span>`,
                content: `<div class="p-4 bg-lime-50 rounded-lg mb-2">
                            <h5 class="font-semibold text-lime-700 mb-1"><strong class="ltr">You / We / They</strong> <span class="text-xl text-amber-500 font-mono">➔</span> <strong class="ltr">were</strong></h5>
                            <p class="text-slate-700">דוגמאות:</p>
                            <ul class="list-decimal list-inside rtl ml-4 mt-1 space-y-1 text-slate-700">
                                <li><span class="ltr">You <strong>were</strong> late.</span> (איחרת / איחרתם)</li>
                                <li><span class="ltr">We <strong>were</strong> at the park.</span> (היינו בפארק)</li>
                                <li><span class="ltr">They <strong>were</strong> at the cinema.</span> (הם היו בקולנוע)</li>
                            </ul>
                          </div>
                          <div class="study-interactive-check">
                            <p class="text-sm font-medium text-slate-700">בחר את המילה הנכונה: <span class="ltr">You ___ very quiet yesterday.</span></p>
                            <button class="btn btn-secondary btn-sm text-xs mx-1" onclick="checkStudyStepAnswerDirect('was', 'were', 'r4s3_feedback')">was</button>
                            <button class="btn btn-secondary btn-sm text-xs mx-1" onclick="checkStudyStepAnswerDirect('were', 'were', 'r4s3_feedback')">were</button>
                            <div id="r4s3_feedback" class="text-sm mt-1 feedback-animation"></div>
                          </div>`
            },
            {
                title: "שלילה בעבר: wasn't / weren't",
                content: `<div class="p-4 bg-orange-50 rounded-lg mb-2">
                            <h5 class="font-semibold text-orange-700 mb-1">איך אומרים "לא היה"?</h5>
                            <p class="text-slate-700">מוסיפים <strong class="ltr">not</strong> אחרי <strong class="ltr">was</strong> או <strong class="ltr">were</strong>.</p>
                            <ul class="list-disc list-inside space-y-2 text-slate-700 ltr">
                                <li>I was <strong>not</strong> ready. (קיצור: I <strong>wasn't</strong> ready)</li>
                                <li>They were <strong>not</strong> at home. (קיצור: They <strong>weren't</strong> at home)</li>
                                <li>She was <strong>not</strong> happy. (קיצור: She <strong>wasn't</strong> happy)</li>
                            </ul>
                          </div>
                          <div class="study-interactive-check">
                            <p class="text-sm font-medium text-slate-700">השלם את הקיצור: <span class="ltr">We were not there.</span> <span class="text-orange-500 font-mono">➔</span> <span class="ltr">We ___ there.</span></p>
                            <input type="text" id="r4s4_check" class="ltr border border-gray-300 p-1 rounded-md my-1 w-20 text-center" placeholder="weren't">
                            <button class="btn btn-secondary btn-sm text-xs" onclick="checkStudyStepAnswer('r4s4_check', 'weren\'t', 'r4s4_feedback')">בדוק</button>
                            <div id="r4s4_feedback" class="text-sm mt-1"></div>
                          </div>`
            },
            {
                title: "שאלות בעבר עם Was / Were",
                content: `<div class="p-4 bg-cyan-50 rounded-lg">
                            <h5 class="font-semibold text-cyan-700 mb-1">איך שואלים על העבר?</h5>
                            <p class="mb-2 text-slate-700">בדיוק כמו בהווה, הופכים את סדר הנושא והפועל (<strong class="ltr">was/were</strong>):</p>
                            <ul class="list-disc list-inside space-y-2 text-slate-700 ltr">
                                <li><strong>Was</strong> she happy? (האם היא הייתה שמחה?)</li>
                                <li><strong>Were</strong> they late? (האם הם איחרו?)</li>
                                <li><strong>Where were</strong> you yesterday? (איפה היית אתמול?) - עם מילת Wh</li>
                            </ul>
                          </div>
                          <div class="study-interactive-check">
                            <p class="text-sm font-medium text-slate-700">הפוך לשאלה: <span class="ltr">He was at the party.</span></p>
                            <input type="text" id="r4s5_check" class="ltr border border-gray-300 p-1 rounded-md my-1 w-48 text-center" placeholder="Was he at the party?">
                            <button class="btn btn-secondary btn-sm text-xs" onclick="checkStudyStepAnswer('r4s5_check', 'Was he at the party?', 'r4s5_feedback')">בדוק</button>
                            <div id="r4s5_feedback" class="text-sm mt-1"></div>
                          </div>`
            },
            {
                title: "Using 'was' and 'were' in Sentences",
                content: `<p class='text-lg'>Learn how to use 'was' and 'were' in sentences:</p>
                          <ul>
                              <li>I was at the park.</li>
                              <li>They were happy.</li>
                              <li>She was a teacher.</li>
                          </ul>
                          <div class='study-interactive-check'>
                              <p>Fill in the blank: <span class='ltr'>They ___ at the party.</span></p>
                              <input type='text' id='r4s6_check' class='ltr' placeholder='were'>
                              <button onclick="checkStudyStepAnswer('r4s6_check', 'were', 'r4s6_feedback')">Check</button>
                              <div id='r4s6_feedback'></div>
                          </div>`
            },
            {
                title: "כל הכבוד! סיימת את כל החומר!",
                content: `<p class="mt-4 text-lg text-green-600 font-semibold">מעולה! למדתם את כל צורות הפועל 'to be' בהווה ובעבר, כולל שלילה ושאלות.</p>
                          <p class="text-slate-700">זהו, אתם מוכנים למבחן המסכם של חלק 4!</p>`
            }
        ];

        const part4Data = {
            title: 'חלק 4: "To Be" בעבר (Was, Were)',
            sections: {
                study: {
                    title: '📖 לימוד: "To Be" בזמן עבר',
                    steps: part4StudySteps
                },
                test: {
                    title: '📝 מבחן: "To Be" בעבר',
                    questions: [
                        { id: "r4_tq1", q: "<span class='ltr'>I ___ tired last night.</span>", options: ["was", "were", "am"], correct: "was", type: "mcq", sentenceParts: ["I ", " tired last night."] },
                        { id: "r4_tq2", q: "<span class='ltr'>They ___ not at the party.</span>", options: ["wasn't", "weren't", "isn't"], correct: "weren't", type: "mcq", sentenceParts: ["They ", " not at the party."] },
                        { id: "r4_tq3", q: "הפוך לשאלה: <span class='ltr'>He was at home.</span>", correct: "Was he at home?", type: "fill_single", placeholder: "כתוב את השאלה", sentenceParts: ["", " he at home?"] }, // sentenceParts might need adjustment for question transformation
                        { id: "r4_tq4", q: "השלם: <span class='ltr'>___ you at school yesterday? (Yes, I was)</span>", options: ["Was", "Were", "Are"], correct: "Were", type: "mcq", sentenceParts: ["", " you at school yesterday?"] },
                        { id: "r4_tq5", q: "<span class='ltr'>She ___ a doctor last year.</span>", options: ["was", "were", "is"], correct: "was", type: "mcq" },
                        { id: "r4_tq6", q: "<span class='ltr'>They ___ not at home.</span>", options: ["was", "were", "is"], correct: "were", type: "mcq" }
                    ],
                    instructions: "בחרו או השלימו את התשובה הנכונה."
                },
                practice: {
                    title: '💪 תרגול: "To Be" בעבר',
                    activities: [
                        { id: "r4_pa1", type: "sentencebuilder", q: "סדר למשפט: <span class='ltr'>(happy / They / were / very)</span>", words: ["They", "were", "very", "happy"], correctSentence: "They were very happy" },
                        { id: "r4_pa2", type: "fill_in_blank", q: "השלם: <span class='ltr'>She ___ a doctor before she retired.</span>", correct: "was", placeholder: "was/were" },
                        { id: "r4_pa3", type: "sentencebuilder", q: "Arrange: <span class='ltr'>(was / She / happy)</span>", words: ["She", "was", "happy"], correctSentence: "She was happy" },
                        { id: "r4_pa4", type: "fill_in_blank", q: "Complete: <span class='ltr'>We ___ at the park.</span>", correct: "were", placeholder: "was/were" }
                    ],
                    instructions: "תרגלו שימוש ב-'was' ו-'were'."
                }
            }
        };
        const allPartsMasterData = {
            1: { title: 'חלק 1: יסודות - "To Be" בהווה (אני, אתה, הוא/היא/זה)' },
            2: { title: 'חלק 2: רבים ושלילה (We, They, Not)' },
            3: { title: 'חלק 3: שאלות (Are you? Where is he?)' },
            4: { title: part4Data.title }
        };
    </script>
    <script src="../script.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            initializeCurrentPage('part', 4, part4Data, allPartsMasterData);
        });
    </script>
</body>
</html>
