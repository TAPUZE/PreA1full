<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BeRight! - ×—×œ×§ 1</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Assistant:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="../style.css">
</head>
<body class="bg-sky-100 min-h-screen flex flex-col items-center p-4">
    <a href="#" class="logout-button" onclick="handleLogout()">Logout</a>

    <div class="round-container">
        <header>
            <h1 class="title-bounce">
                BeRight! <span class="text-2xl md:text-3xl text-amber-500">ğŸš€</span>
            </h1>
            <p class="text-lg text-slate-600 mt-2">×”××¡×¢ ×©×œ×›× ×œ×›×™×‘×•×© ×”×¤×•×¢×œ "To Be" ×‘×× ×’×œ×™×ª!</p>
        </header>

        <div id="part-selector-links" class="flex justify-center gap-2 mb-6">
            <a href="part1.html" class="btn-part-selector-link">×—×œ×§ 1</a>
            <a href="part2.html" class="btn-part-selector-link">×—×œ×§ 2</a>
            <a href="part3.html" class="btn-part-selector-link">×—×œ×§ 3</a>
            <a href="part4.html" class="btn-part-selector-link">×—×œ×§ 4</a>
        </div>

        <div id="round-info" class="mb-6 text-center">
            <h2 class="text-2xl font-semibold text-blue-600" id="part-title">×˜×•×¢×Ÿ ×›×•×ª×¨×ª ×—×œ×§...</h2>
            <div class="progress-bar-container mt-2">
                <div id="progress-bar" class="progress-bar">0%</div>
            </div>
        </div>

        <div id="tabs" class="flex justify-center gap-2 mb-6">
            <button id="tab-study" class="tab-button tab-inactive">ğŸ“– ×œ×™××•×“</button>
            <button id="tab-test" class="tab-button tab-inactive">ğŸ“ ××‘×—×Ÿ</button>
            <button id="tab-practice" class="tab-button tab-inactive">ğŸ’ª ×ª×¨×’×•×œ</button>
            <a href="../progress.html?lesson=4" id="tab-progress" class="tab-button tab-inactive">ğŸ“Š ×”×”×ª×§×“××•×ª</a>
        </div>

        <main id="content-area" class="card">
            <p>×˜×•×¢×Ÿ ×ª×•×›×Ÿ...</p>
        </main>

        <div id="navigation-buttons" class="mt-6 flex justify-between items-center hidden">
            <button id="prev-btn" class="btn btn-secondary hidden">×”×§×•×“×</button>
            <button id="next-btn" class="btn btn-primary">×”×‘×</button>
        </div>

        <div class="text-center mt-6">
            <a href="lesson4-menu.html" class="btn btn-secondary">×—×–×¨×” ×œ×ª×¤×¨×™×˜ ×”×©×™×¢×•×¨</a>
        </div>
    </div>

    <script>
        // --- Data for Part 1 ---
        const part1StudySteps = [
            {
                title: "×‘×¨×•×›×™× ×”×‘××™× ×œ×—×œ×§ 1!",
                content: `<p class="mb-2 text-lg">× ×ª×—×™×œ ×¢× ×”×¤×•×¢×œ ×”×—×©×•×‘ <strong>"to be"</strong> (×œ×”×™×•×ª) ×‘×–××Ÿ ×”×•×•×”.</p>
                          <p class="mb-3 text-slate-700">×‘×× ×’×œ×™×ª, ×× ×—× ×• <strong>×ª××™×“</strong> ×¦×¨×™×›×™× ×œ×”×©×ª××© ×‘×¤×•×¢×œ ×”×–×” ×›×“×™ ×œ×ª××¨ ××™×©×”×• ××• ××©×”×•.</p>`
            },
            {
                title: "×”×‘×“×œ ×—×©×•×‘: ×¢×‘×¨×™×ª ×•×× ×’×œ×™×ª",
                content: `<div class="p-3 bg-indigo-50 rounded-lg mt-1 mb-3 border border-indigo-200">
                            <h5 class="font-semibold text-indigo-700 mb-1">×”×¢×¨×” ×—×©×•×‘×”:</h5>
                            <p class="text-sm text-slate-700">×‘×¢×‘×¨×™×ª, ×‘××©×¤×˜×™ ×ª×™××•×¨ ×‘×–××Ÿ ×”×•×•×”, ×œ×¨×•×‘ ××©××™×˜×™× ×¤×•×¢×œ ××§×‘×™×œ (×œ××©×œ, "×× ×™ ××•×¨×”").</p>
                            <button class="btn btn-secondary btn-sm text-xs mt-1" onclick="toggleElementVisibility('r1s1ex1')">×”×¦×’ ×“×•×’××”</button>
                            <div id="r1s1ex1" class="hidden-content text-sm text-slate-600">
                                "×× ×™ ××•×¨×”." (×‘×× ×’×œ×™×ª: <span class="ltr">I <strong>am</strong> a teacher.</span>)
                            </div>
                            <p class="text-sm text-slate-700 mt-2">××‘×œ ×‘×× ×’×œ×™×ª, ×—×™×™×‘×™× ×œ×”×©×ª××© ×‘-<span class="ltr font-semibold">am, is, are</span> ×‘×”×•×•×”!</p>
                        </div>`
            },
            {
                title: `×”×¤×•×¢×œ "to be" ×¢× <span class="ltr">"I"</span>`,
                content: `<div class="p-4 bg-sky-50 rounded-lg mb-2">
                            <h4 class="font-semibold text-blue-700 mb-2 text-xl">×× ×™ <span class="text-xl text-amber-500 font-mono">â”</span> <strong class="ltr">I am</strong></h4>
                            <p class="text-slate-700">×“×•×’××”: <span class="ltr">I <strong>am</strong> happy.</span> (×× ×™ ×©××—/×©××—×”)</p>
                        </div>
                        <div class="study-interactive-check">
                            <p class="text-sm font-medium text-slate-700">×‘×“×•×§ ×”×‘× ×”: ×”×©×œ× ××ª ×”×—×¡×¨: <span class="ltr">I ___ a student.</span></p>
                            <input type="text" id="r1s2_check" class="ltr border border-gray-300 p-1 rounded-md my-1 w-20 text-center">
                            <button class="btn btn-secondary btn-sm text-xs" onclick="checkStudyStepAnswer('r1s2_check', 'am', 'r1s2_feedback')">×‘×“×•×§</button>
                            <div id="r1s2_feedback" class="text-sm mt-1 feedback-animation"></div>
                        </div>`
            },
            {
                title: `×”×¤×•×¢×œ "to be" ×¢× <span class="ltr">"He / She / It"</span>`,
                content: `<div class="p-4 bg-sky-50 rounded-lg mb-2">
                            <h4 class="font-semibold text-blue-700 mb-2 text-xl">×”×•×/×”×™×/×–×” <span class="text-xl text-amber-500 font-mono">â”</span> <strong class="ltr">He/She/It is</strong></h4>
                            <p class="text-slate-700">×“×•×’××” (He): <span class="ltr">He <strong>is</strong> tall.</span> (×”×•× ×’×‘×•×”)</p>
                            <button class="btn btn-secondary btn-sm text-xs mt-1" onclick="toggleElementVisibility('r1s3ex_she')">×¢×•×“ ×“×•×’×××•×ª</button>
                            <div id="r1s3ex_she" class="hidden-content text-sm text-slate-600">
                                <p>×“×•×’××” (She): <span class="ltr">She <strong>is</strong> a doctor.</span> (×”×™× ×¨×•×¤××”)</p>
                                <p>×“×•×’××” (It): <span class="ltr">It <strong>is</strong> a book.</span> (×–×” ×¡×¤×¨)</p>
                            </div>
                        </div>
                        <div class="study-interactive-check">
                            <p class="text-sm font-medium text-slate-700">×‘×“×•×§ ×”×‘× ×”: <span class="ltr">The cat (it) ___ black.</span></p>
                            <button class="btn btn-secondary btn-sm text-xs mx-1" onclick="checkStudyStepAnswerDirect('is', 'is', 'r1s3_feedback')">is</button>
                            <button class="btn btn-secondary btn-sm text-xs mx-1" onclick="checkStudyStepAnswerDirect('are', 'is', 'r1s3_feedback')">are</button>
                            <div id="r1s3_feedback" class="text-sm mt-1 feedback-animation"></div>
                        </div>`
            },
            {
                title: `×”×¤×•×¢×œ "to be" ×¢× <span class="ltr">"You / We / They"</span>`,
                content: `<div class="p-4 bg-sky-50 rounded-lg mb-2">
                            <h4 class="font-semibold text-blue-700 mb-2 text-xl">××ª×”/××ª/×× ×—× ×•/×”× <span class="text-xl text-amber-500 font-mono">â”</span> <strong class="ltr">You/We/They are</strong></h4>
                            <p class="text-slate-700">×“×•×’××” (You): <span class="ltr">You <strong>are</strong> kind.</span> (××ª×” × ×—××“)</p>
                            <p class="text-slate-700">×“×•×’××” (We): <span class="ltr">We <strong>are</strong> friends.</span> (×× ×—× ×• ×—×‘×¨×™×)</p>
                            <p class="text-slate-700">×“×•×’××” (They): <span class="ltr">They <strong>are</strong> students.</span> (×”× ×ª×œ××™×“×™×)</p>
                        </div>`
            },
            {
                title: "×§×™×¦×•×¨×™× × ×¤×•×¦×™× (Contractions)",
                content: `<div class="p-4 bg-amber-50 rounded-lg">
                            <h4 class="font-semibold text-amber-700 mb-2 text-xl">×§×™×¦×•×¨×™×:</h4>
                            <p class="mb-2 text-slate-700">×‘×× ×’×œ×™×ª ××•×”×‘×™× ×œ×§×¦×¨! ×œ×“×•×’××”:</p>
                            <ul class="list-disc list-inside space-y-1 text-slate-700 ltr">
                                <li>I am <span class="text-lg text-amber-500 font-mono">â”</span> I'm</li>
                                <li>He is <span class="text-lg text-amber-500 font-mono">â”</span> He's</li>
                                <li>She is <span class="text-lg text-amber-500 font-mono">â”</span> She's</li>
                                <li>It is <span class="text-lg text-amber-500 font-mono">â”</span> It's</li>
                                <li>You are <span class="text-lg text-amber-500 font-mono">â”</span> You're</li>
                                <li>We are <span class="text-lg text-amber-500 font-mono">â”</span> We're</li>
                                <li>They are <span class="text-lg text-amber-500 font-mono">â”</span> They're</li>
                            </ul>
                        </div>`
            },
            {
                title: "×¡×™×™×× ×• ×œ×œ××•×“ ××ª ×”×™×¡×•×“×•×ª!",
                content: `<p class="mt-4 text-lg text-green-600 font-semibold">×›×œ ×”×›×‘×•×“! ×¡×™×™××ª ××ª ×—×œ×§ ×”×œ×™××•×“ ×œ×—×œ×§ ×–×”.</p>
                          <p class="text-slate-700">×‘×©×œ×‘ ×”×‘×, × ×¢×‘×•×¨ ×œ××‘×—×Ÿ ×§×¦×¨ ×›×“×™ ×œ×¨××•×ª ××” ×œ××“× ×•!</p>`
            }
        ];

        const part1Data = {
            title: '×—×œ×§ 1: ×™×¡×•×“×•×ª - "To Be" ×‘×”×•×•×” (×× ×™, ××ª×”, ×”×•×/×”×™×/×–×”)',
            sections: {
                study: {
                    title: 'ğŸ“– ×œ×™××•×“: ×”×¤×•×¢×œ "To Be" ×‘×”×•×•×”',
                    steps: part1StudySteps
                },
                test: {
                    title: 'ğŸ“ ××‘×—×Ÿ: ×‘×•××• × ×‘×“×•×§ ××” ×œ××“× ×•!',
                    questions: [
                        { id: "r1_tq1", q: "<span class='ltr'>I ___ a teacher.</span>", options: ["am", "is", "are"], correct: "am", type: "mcq", sentenceParts: ["I ", " a teacher."] },
                        { id: "r1_tq2", q: "<span class='ltr'>She ___ happy.</span>", options: ["am", "is", "are"], correct: "is", type: "mcq", sentenceParts: ["She ", " happy."] },
                        { id: "r1_tq3", q: "<span class='ltr'>It ___ a cat.</span>", options: ["am", "is", "are"], correct: "is", type: "mcq", sentenceParts: ["It ", " a cat."] },
                        { id: "r1_tq4", q: "<span class='ltr'>You ___ smart.</span>", options: ["am", "is", "are"], correct: "are", type: "mcq", sentenceParts: ["You ", " smart."] },
                        { id: "r1_tq5", q: "×”×©×œ× ××ª ×”×—×¡×¨: <span class='ltr'>He ___ a boy.</span>", correct: "is", type: "fill_single", hint: "×”×§×œ×“ ××ª ×”××™×œ×” ×”×—×¡×¨×” (am, is, or are)", placeholder: "is", sentenceParts: ["He ", " a boy."] },
                        { id: "r1_tq6", q: "××™×–×” ××©×¤×˜ × ×›×•×Ÿ?", options: ["<span class='ltr'>She a doctor.</span>", "<span class='ltr'>She is a doctor.</span>", "<span class='ltr'>She am a doctor.</span>"], correct: "<span class='ltr'>She is a doctor.</span>", type: "mcq" },
                        { id: "r1_tq7", q: "×‘×—×¨ ××ª ×”×ª×©×•×‘×” ×”× ×›×•× ×” ×œ××©×¤×˜: (×ª××•× ×” ×©×œ ×©××© â˜€ï¸) <span class='ltr'>It ___ sunny today.</span>", options: ["am", "is", "are"], correct: "is", type: "mcq", sentenceParts: ["It ", " sunny today."] }
                    ],
                    instructions: "×‘×—×¨×• ××• ×”×©×œ×™××• ××ª ×”×ª×©×•×‘×” ×”× ×›×•× ×” ×œ×›×œ ×©××œ×”. ×‘×”×¦×œ×—×”!"
                },
                practice: {
                    title: 'ğŸ’ª ×ª×¨×’×•×œ: ××—×–×§×™× ××ª ×”×™×“×¢!',
                    activities: [
                        { id: "r1_pa1", type: "sentencebuilder", q: "×¡×“×¨ ××ª ×”××™×œ×™× ×œ××©×¤×˜ × ×›×•×Ÿ:", words: ["happy", "I", "am"], correctSentence: "I am happy"},
                        { id: "r1_pa2", type: "fill_in_blank", q: "×”×©×œ× ××ª ×”×¤×•×¢×œ ×”× ×›×•×Ÿ: <span class=\"ltr\">The dog ___ friendly.</span>", correct: "is", placeholder: "am/is/are" },
                        { id: "r1_pa3", type: "sentencebuilder", q: "×¡×“×¨ ××ª ×”××™×œ×™× ×œ××©×¤×˜ × ×›×•×Ÿ:", words: ["a", "It", "book", "is"], correctSentence: "It is a book"},
                        { id: "r1_pa4", type: "fill_in_blank", q: "×”×©×œ× ××ª ×”×¤×•×¢×œ ×”× ×›×•×Ÿ: <span class=\"ltr\">You ___ a good student.</span>", correct: "are", placeholder: "am/is/are" }
                    ],
                    instructions: "××¢×•×œ×”! ×¢×›×©×™×• ×‘×•××• × ×ª×¨×’×œ ×¢×•×“. ×”×ª×¨×’×•×œ ×”×–×” ×™×ª××§×“ ×‘×˜×¢×•×™×•×ª ××”××‘×—×Ÿ (×× ×”×™×•) ×•×‘×¢×•×“ ×“×•×’×××•×ª."
                }
            }
        };
        // Data for ALL parts - needed for storing titles in localStorage for the progress page
        // Ideally, this would be fetched or managed more centrally in a larger app,
        // but for this structure, the first part loaded can initialize it.
        const allPartsMasterData = {
            1: { title: part1Data.title },
            // Titles for other parts - these would be defined in their respective files too
            // but we need a way for progress.html to access them without loading all part files.
            2: { title: '×—×œ×§ 2: ×¨×‘×™× ×•×©×œ×™×œ×” (We, They, Not)' },
            3: { title: '×—×œ×§ 3: ×©××œ×•×ª (Are you? Where is he?)' },
            4: { title: '×—×œ×§ 4: "To Be" ×‘×¢×‘×¨ (Was, Were)' }
        };

    </script>
    <script src="../script.js"></script>
    <script src="lesson4.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Initialize the page with Part 1 data
            initializeCurrentPage('part', 1, part1Data, allPartsMasterData);
        });
    </script>
</body>
</html>
